((function(){var a,b,c,d,e,f,g,h,i,j,k,l=Array.prototype.slice;b="en",e=function(){return(navigator.language||navigator.browserLanguage||baseLang).split("-")[0]},g=e(),h=new scaleApp.Mediator,c="i18n",j=function(){return h.subscribe.apply(h,[c].concat(l.call(arguments)))},k=function(){return h.unsubscribe.apply(h,[c].concat(l.call(arguments)))},f=function(){return g},i=function(a){if(typeof a=="string")return g=a,h.publish(c,g)},d=function(a,c){var d,e,f,h,i,j;return(d=(e=a[g])!=null?e[c]:void 0)!=null?d:(f=(h=a[g.substring(0,2)])!=null?h[c]:void 0)!=null?f:(i=(j=a[b])!=null?j[c]:void 0)!=null?i:c},a=function(){function a(a){this.sb=a}return a.prototype.i18n={subscribe:j,unsubscribe:k},a.prototype._=function(a){var b;return b=this.sb.options.i18n,typeof b!="object"?a:d(b,a)},a.prototype.getLanguage=f,a}(),scaleApp.registerPlugin({id:"i18n",sandbox:a,core:{i18n:{setLanguage:i,getBrowserLanguage:e,getLanguage:f,baseLanguage:b,get:d,subscribe:j,unsubscribe:k}}})})).call(this);