((function(){var a,b,c,d=Object.prototype.hasOwnProperty,e=function(a,b){function e(){this.constructor=a}for(var c in b)d.call(b,c)&&(a[c]=b[c]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};b=function(a){function b(a){var c,d;b.__super__.constructor.call(this),this.id=(a!=null?a.id:void 0)||scaleApp.uniqueId();for(c in a)d=a[c],this[c]==null&&(this[c]=d)}return e(b,a),b.prototype.set=function(a,c,d){var e,f;d==null&&(d=!1);switch(typeof a){case"object":for(e in a)f=a[e],this.set(e,f,!0);d||this.publish(b.CHANGED,function(){var b;b=[];for(e in a)f=a[e],b.push(e);return b}());break;case"string":a!=="set"&&a!=="get"&&this[a]!==c&&(this[a]=c,d||this.publish(b.CHANGED,[a]));break;default:typeof console!="undefined"&&console!==null&&typeof console.error=="function"&&console.error("key is not a string")}return this},b.prototype.change=function(a,c){return typeof a=="function"?this.subscribe(b.CHANGED,a,c):this.publish(b.CHANGED)},b.prototype.notify=function(){return this.change()},b.prototype.get=function(a){return this[a]},b.prototype.toJSON=function(){var a,b,c;a={};for(b in this){if(!d.call(this,b))continue;c=this[b],a[b]=c}return a},b.CHANGED="changed",b}(scaleApp.Mediator),c=function(){function a(a){a&&this.setModel(a)}return a.prototype.setModel=function(a){return this.model=a,this.model.change(this.render,this)},a.prototype.render=function(){},a}(),a=function(){function a(a,b){this.model=a,this.view=b}return a}(),scaleApp.registerPlugin({id:"mvc",core:{Model:b,View:c,Controller:a}})})).call(this);